'use strict';

var HttpWrapper = require('../utils/http-wrapper');

var config = require('../config');

module.exports = {
  fetchProducts: function fetchProducts(authHeaders) {
    var options = {
      port: config.port,
      hostname: config.host,
      path: '/packages/read',
      method: 'GET',
      data: '',
      headers: authHeaders
    };
    var http = new HttpWrapper(options);
    return http.get().then(function (products) {
      return JSON.parse(products);
    });
  }
};