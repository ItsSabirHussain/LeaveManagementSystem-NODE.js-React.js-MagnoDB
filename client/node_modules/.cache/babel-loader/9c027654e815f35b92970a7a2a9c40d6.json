{"ast":null,"code":"import _slicedToArray from \"/Users/sabirhussain/Downloads/LeaveManagementSystem-NODE.js-React.js-MagnoDB-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/Users/sabirhussain/Downloads/LeaveManagementSystem-NODE.js-React.js-MagnoDB-master/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/sabirhussain/Downloads/LeaveManagementSystem-NODE.js-React.js-MagnoDB-master/client/src/components/manager/applyleaveform.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { Link } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport axios from \"axios\";\nimport appleave from \"./appleave.png\";\nimport DatePicker from \"react-date-picker\";\n\nfunction Copyright() {\n  return React.createElement(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, \"Copyright © \", React.createElement(Link, {\n    to: \"/promandashboard\",\n    style: {\n      textDecoration: \"none\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, \"Dashboard\", \" \"), new Date().getFullYear(), \".\");\n}\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    \"@global\": {\n      body: {\n        backgroundColor: theme.palette.common.white\n      }\n    },\n    paper: {\n      marginTop: theme.spacing(8),\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\"\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.primary.main\n    },\n    form: {\n      width: \"100%\",\n      // Fix IE 11 issue.\n      marginTop: theme.spacing(3)\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2)\n    }\n  };\n});\nexport default function ApplyLeaveForm(props) {\n  var classes = useStyles();\n  useEffect(function () {\n    if (leaveDate.FullName === \"\") {\n      axios.post(\"/getmanager\", {\n        ID: localStorage.getItem(\"managerID\")\n      }).then(function (res) {\n        setLeaveDate(_objectSpread({}, leaveDate, {\n          Department: res.data.Department,\n          FullName: res.data.FullName\n        }));\n        console.log(res);\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    }\n  });\n\n  var _useState = useState({\n    StartDate: new Date(),\n    EndDate: new Date(),\n    Reason: \"\",\n    Department: \"\",\n    ID: localStorage.getItem(\"managerID\"),\n    FullName: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      leaveDate = _useState2[0],\n      setLeaveDate = _useState2[1];\n\n  console.log(leaveDate.FullName);\n\n  var onClick = function onClick(e) {\n    e.preventDefault();\n    axios.post(\"/mapplyleave\", {\n      StartDate: leaveDate.StartDate.getFullYear() + \"/\" + leaveDate.StartDate.getMonth() + 1 + \"/\" + leaveDate.StartDate.getDate(),\n      EndDate: leaveDate.EndDate.getFullYear() + \"/\" + leaveDate.EndDate.getMonth() + 1 + \"/\" + leaveDate.EndDate.getDate(),\n      Reason: leaveDate.Reason,\n      Department: leaveDate.Department,\n      ID: localStorage.getItem(\"managerID\"),\n      FullName: leaveDate.FullName\n    }).then(function (res) {\n      alert(\"Your applications is submitted.\");\n      window.location.reload();\n    }).catch(function (error) {\n      alert(\"There is an error occur pleave try later.\");\n      window.location.reload();\n    });\n    props.history.push(\"/managerdashboard\");\n  };\n\n  var sdchange = function sdchange(date) {\n    setLeaveDate(_objectSpread({}, leaveDate, {\n      StartDate: new Date(date)\n    }));\n  };\n\n  var edchange = function edchange(date) {\n    setLeaveDate(_objectSpread({}, leaveDate, {\n      EndDate: new Date(date)\n    }));\n  };\n\n  return React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(CssBaseline, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: classes.paper,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(Avatar, {\n    alt: \"addprofile\",\n    src: appleave,\n    style: {\n      width: 120,\n      height: 120\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }), React.createElement(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    style: {\n      color: \"Black\",\n      margin: 3,\n      fontSize: 35,\n      fontFamily: \"Arial\",\n      textShadow: \"-1px -1px 1px #aaa, 1px 5px 2px rgba(255,255,255), 5px 5px 6px rgba(255,255,250), 1px 1px 8px rgba(255,255,240)\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, \"Apply for leave\"), React.createElement(\"form\", {\n    className: classes.form,\n    noValidate: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }, \"Start Date\", React.createElement(DatePicker, {\n    onChange: sdchange,\n    value: leaveDate.StartDate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, \"End Date\", React.createElement(DatePicker, {\n    onChange: edchange,\n    value: leaveDate.EndDate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  })), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    variant: \"outlined\",\n    required: true,\n    fullWidth: true,\n    id: \"reason\",\n    label: \"Reason\",\n    name: \"reason\",\n    autoComplete: \"reason\",\n    onChange: function onChange(e) {\n      return setLeaveDate(_objectSpread({}, leaveDate, {\n        Reason: e.target.value\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, React.createElement(Button, {\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.submit,\n    onClick: onClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  }, \"Apply\")), React.createElement(Grid, {\n    container: true,\n    justify: \"flex-end\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  })))), React.createElement(Box, {\n    mt: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, React.createElement(Copyright, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["/Users/sabirhussain/Downloads/LeaveManagementSystem-NODE.js-React.js-MagnoDB-master/client/src/components/manager/applyleaveform.js"],"names":["React","useState","useEffect","Avatar","Button","CssBaseline","TextField","Link","Grid","Box","AddIcon","Typography","makeStyles","Container","axios","appleave","DatePicker","Copyright","textDecoration","Date","getFullYear","useStyles","theme","body","backgroundColor","palette","common","white","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","primary","main","form","width","submit","ApplyLeaveForm","props","classes","leaveDate","FullName","post","ID","localStorage","getItem","then","res","setLeaveDate","Department","data","console","log","catch","error","StartDate","EndDate","Reason","onClick","e","preventDefault","getMonth","getDate","alert","window","location","reload","history","push","sdchange","date","edchange","height","color","fontSize","fontFamily","textShadow","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { Link } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport axios from \"axios\";\nimport appleave from \"./appleave.png\";\nimport DatePicker from \"react-date-picker\";\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"Copyright © \"}\n      <Link to=\"/promandashboard\" style={{ textDecoration: \"none\" }}>\n        Dashboard{\" \"}\n      </Link>\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles(theme => ({\n  \"@global\": {\n    body: {\n      backgroundColor: theme.palette.common.white\n    }\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(3)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\n\nexport default function ApplyLeaveForm(props) {\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (leaveDate.FullName === \"\") {\n      axios\n        .post(\"/getmanager\", { ID: localStorage.getItem(\"managerID\") })\n        .then(res => {\n          setLeaveDate({\n            ...leaveDate,\n            Department: res.data.Department,\n            FullName: res.data.FullName\n          });\n          console.log(res);\n        })\n        .catch(error => console.log(error));\n    }\n  });\n  const [leaveDate, setLeaveDate] = useState({\n    StartDate: new Date(),\n    EndDate: new Date(),\n    Reason: \"\",\n    Department: \"\",\n    ID: localStorage.getItem(\"managerID\"),\n    FullName: \"\"\n  });\n  console.log(leaveDate.FullName);\n  const onClick = e => {\n    e.preventDefault();\n    axios\n      .post(\"/mapplyleave\", {\n        StartDate:\n          leaveDate.StartDate.getFullYear() +\n          \"/\" +\n          leaveDate.StartDate.getMonth() +\n          1 +\n          \"/\" +\n          leaveDate.StartDate.getDate(),\n        EndDate:\n          leaveDate.EndDate.getFullYear() +\n          \"/\" +\n          leaveDate.EndDate.getMonth() +\n          1 +\n          \"/\" +\n          leaveDate.EndDate.getDate(),\n        Reason: leaveDate.Reason,\n        Department: leaveDate.Department,\n        ID: localStorage.getItem(\"managerID\"),\n        FullName: leaveDate.FullName\n      })\n      .then(res => {\n        alert(\"Your applications is submitted.\");\n        window.location.reload();\n      })\n      .catch(error => {\n        alert(\"There is an error occur pleave try later.\");\n        window.location.reload();\n      });\n    props.history.push(\"/managerdashboard\");\n  };\n\n  const sdchange = date => {\n    setLeaveDate({ ...leaveDate, StartDate: new Date(date) });\n  };\n  const edchange = date => {\n    setLeaveDate({ ...leaveDate, EndDate: new Date(date) });\n  };\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar\n          alt=\"addprofile\"\n          src={appleave}\n          style={{ width: 120, height: 120 }}\n        />\n\n        <Typography\n          component=\"h1\"\n          variant=\"h5\"\n          style={{\n            color: \"Black\",\n            margin: 3,\n            fontSize: 35,\n            fontFamily: \"Arial\",\n            textShadow:\n              \"-1px -1px 1px #aaa, 1px 5px 2px rgba(255,255,255), 5px 5px 6px rgba(255,255,250), 1px 1px 8px rgba(255,255,240)\"\n          }}\n        >\n          Apply for leave\n        </Typography>\n        <form className={classes.form} noValidate>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n              Start Date\n              <DatePicker onChange={sdchange} value={leaveDate.StartDate} />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              End Date\n              <DatePicker onChange={edchange} value={leaveDate.EndDate} />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"reason\"\n                label=\"Reason\"\n                name=\"reason\"\n                autoComplete=\"reason\"\n                onChange={e =>\n                  setLeaveDate({ ...leaveDate, Reason: e.target.value })\n                }\n              />\n            </Grid>\n          </Grid>\n          <Grid item xs={12}>\n            <Button\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={onClick}\n            >\n              Apply\n            </Button>\n          </Grid>\n          <Grid container justify=\"flex-end\">\n            <Grid item></Grid>\n          </Grid>\n        </form>\n      </div>\n      <Box mt={5}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}